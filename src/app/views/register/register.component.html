<div class="background">
  <div class="create-account">
    <div class="centralize create-account-img">
      <h1 class="create-account-tittle">Create an account!</h1>
      <P class="create-account-text">
        Easy and safe way to create your account. You will be able to change these informations whenever you want!
      </P>
    </div>
  </div>
  <div class="register">
    <div class="centralize">
      <div class="form">
        <div>
          <h1 class="register-tittle text-center">REGISTER</h1>
          <form #myForm="ngForm" [formGroup]="form" class="register-form" (ngSubmit)="signup()">
            <mat-form-field class="example-full-width " >
              <mat-label >Name</mat-label>
              <input matInput formControlName="name" >
            </mat-form-field>

            <app-message *ngIf="form.get('email')?.errors?.['email'] &&
            form.get('email')?.touched"
            message="Type the e-mail in the correct format!" class="text-start">
            </app-message>

            <app-message
              *ngIf="form.get('email')?.errors?.['existentUser']"
              message="There's already an user registered with this e-mail!" class="text-start"
            ></app-message>

            <mat-form-field class="example-full-width mt-1" >
              <mat-label >E-mail</mat-label>
              <input matInput formControlName="email" >
            </mat-form-field>

            <mat-form-field class="example-full-width mt-1" >
              <mat-label>Password</mat-label>
              <input matInput type="password" formControlName="password">
            </mat-form-field>

            <div class="text-start">
              <p class="requirements-tittle">The password MUST have at least...</p>
              <div >
                <p *ngIf="form.get('password')?.errors?.['noSpecialCharacter']" class="wrong-requirements">
                  <mat-icon>help_outline</mat-icon> One special character
                </p>
                <p *ngIf="!form.get('password')?.errors?.['noSpecialCharacter']" class="correct-requirements">
                  <mat-icon>done</mat-icon> One special character
                </p>

                <p *ngIf="form.get('password')?.errors?.['noNumberCharacter']"  class="wrong-requirements ">
                  <mat-icon>help_outline</mat-icon> One number.
                </p>
                <p *ngIf="!form.get('password')?.errors?.['noNumberCharacter']"  class="correct-requirements">
                  <mat-icon>done</mat-icon> One number.
                </p>

                <p *ngIf="form.get('password')?.errors?.['noUppercaseCharacter']"  class="wrong-requirements ">
                  <mat-icon>help_outline</mat-icon> One uppercase character.
                </p>
                <p *ngIf="!form.get('password')?.errors?.['noUppercaseCharacter']"  class="correct-requirements">
                  <mat-icon>done</mat-icon> One uppercase character.
                </p>

                <p *ngIf="form.get('password')?.errors?.['noLowercaseCharacter']"  class="wrong-requirements ">
                  <mat-icon>help_outline</mat-icon> One lowercase character.
                </p>
                <p *ngIf="!form.get('password')?.errors?.['noLowercaseCharacter']"  class="correct-requirements">
                  <mat-icon>done</mat-icon>One lowercase character.
                </p>

                <p *ngIf="form.get('password')?.errors?.['minLength6Error']" class="wrong-requirements ">
                  <mat-icon>help_outline</mat-icon> 6 characters.
                </p>
                <p *ngIf="!form.get('password')?.errors?.['minLength6Error']" class="correct-requirements">
                  <mat-icon>done</mat-icon> 6 characters.
                </p>
              </div>

            </div>

            <app-message
              *ngIf="form.errors?.['diferentPassword'] &&
              form.get('passwordConfirm')?.touched"
              message="This password doesn't match the first one! " class="text-start">
              </app-message>
            <mat-form-field class="example-full-width mt-1">
              <mat-label>Confirm the password</mat-label>
              <input matInput type="password" formControlName="passwordConfirm">
            </mat-form-field>

            <div class="row">
              <div class="col-12 md-auto mt-1">
              <button class="register-button" mat-raised-button color="primary" [disabled]="form.invalid || isLoading">
                <b *ngIf="!isLoading">SIGN UP</b>
                <div *ngIf="isLoading" class="spinner-button"><mat-spinner [diameter]="35"></mat-spinner></div>
              </button>
              </div>
            </div>

            <div class="mt-3">
               <p>Already have an account? <a class="links" [routerLink]="['/login']" >Login here!</a></p>
            </div>

          </form>
        </div>
      </div>
    </div>
  </div>
</div>

