<div class="background">
  <div class="create-account">
    <div class="centralize create-account-img">
      <h1 class="create-account-tittle">Create an account!</h1>
      <P class="create-account-text">
        Easy and safe way to create your account. You will be able to change these informations whenever you want!
      </P>
    </div>
  </div>
  <div class="register">
    <div class="centralize">
      <div class="form">
        <div>
          <h1 class="register-tittle text-center">REGISTER</h1>
          <form [formGroup]="form" class="register-form">
            <mat-form-field class="example-full-width " >
              <mat-label >Name</mat-label>
              <input matInput formControlName="name" >
            </mat-form-field>

            <app-message *ngIf="form.get('email')?.errors?.['email'] &&
            form.get('email')?.touched"
            message="Type the e-mail in the correct format!" class="text-start">
            </app-message>

            <app-message
              *ngIf="form.get('email')?.errors?.['existentUser']"
              message="There's already an user registered with this e-mail!" class="text-start"
            ></app-message>

            <mat-form-field class="example-full-width mt-3" >
              <mat-label >E-mail</mat-label>
              <input matInput formControlName="email" >
            </mat-form-field>

            <mat-form-field class="example-full-width mt-3" >
              <mat-label>Password</mat-label>
              <input matInput [type]="hidePassword ? 'password' : 'text'" formControlName="password">
              <button mat-icon-button matSuffix (click)="hidePassword = !hidePassword" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hidePassword">
                <mat-icon>{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
            </button>
            </mat-form-field>

            <div class="text-start ">
              <p>Password requirements:</p>
              <div >
                <ul class="password-requirements">
                <li *ngIf="form.get('password')?.errors?.['noSpecialCharacter']" class="wrong-requirements">
                  <mat-icon>help_outline</mat-icon>Must have at least one special character
                </li>
                <li *ngIf="!form.get('password')?.errors?.['noSpecialCharacter']" class="correct-requirements">
                  <mat-icon>done</mat-icon>Must have at least one special character
                </li>

                <li *ngIf="form.get('password')?.errors?.['noNumberCharacter']"  class="wrong-requirements">
                  <mat-icon>help_outline</mat-icon>Must have at least one number.
                </li>
                <li *ngIf="!form.get('password')?.errors?.['noNumberCharacter']"  class="correct-requirements">
                  <mat-icon>done</mat-icon>Must have at least one number.
                </li>
              </ul>
              </div>

            </div>

            <div class="row">
              <div class="col-12 md-auto mt-3">
              <button class="register-button" mat-raised-button color="primary" [disabled]="form.invalid" (click)="signup()">SIGN UP</button>
              </div>
            </div>

            <div class="mt-4">
               <p>Already have an account? <a class="links" [routerLink]="['/login']" >Login here!</a></p>
            </div>

          </form>
        </div>
      </div>
    </div>
  </div>
</div>

