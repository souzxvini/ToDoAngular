
<div class="background-image">
  <div class="centralize">
    <div class="form">
      <div>
        <h1 class="tittle">Reset your password!</h1>
      <form [formGroup]="form" class="reset-password-form">
        <mat-form-field class="example-full-width mt-5" >
          <mat-label >E-mail</mat-label>
          <input matInput formControlName="email" >
        </mat-form-field>

        <mat-form-field class="example-full-width mt-3">
          <mat-label>New password</mat-label>
          <input matInput [type]="hidePassword ? 'password' : 'text'" formControlName="password">
          <button mat-icon-button matSuffix (click)="hidePassword = !hidePassword" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hidePassword">
            <mat-icon>{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
          </button>
        </mat-form-field>

        <app-message
        *ngIf="form.errors?.['diferentPassword'] &&
        form.get('passwordConfirm')?.touched"
        message="This password doesn't match the first one! " class="text-start">
        </app-message>

        <mat-form-field class="example-full-width mt-3">
          <mat-label>Confirm the password</mat-label>
          <input matInput [type]="hidePasswordConfirm ? 'password' : 'text'" formControlName="passwordConfirm">
          <button mat-icon-button matSuffix (click)="hidePasswordConfirm = !hidePasswordConfirm" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hidePasswordConfirm">
            <mat-icon>{{hidePasswordConfirm ? 'visibility_off' : 'visibility'}}</mat-icon>
          </button>
        </mat-form-field>

        <app-message *ngIf="form.get('code')?.errors?.['minlength'] &&
          form.get('code')?.touched"
          message="The code must have 6 digits!" class="text-start">
        </app-message>

        <mat-form-field class="example-full-width mt-3" >
          <mat-label >6 Digit Confirmation Code</mat-label>
          <input matInput formControlName="code" maxlength="6" minlength="6">
        </mat-form-field>

        <div class="row">
          <div class="col-12 md-auto mt-3">
          <button class="button" mat-raised-button color="primary" [disabled]="form.invalid" (click)="confirmNewPassword()">CONFIRM</button>
          </div>
        </div>

        <mat-divider class="mt-4"></mat-divider>

        <div class="mt-4">
          <p>Go back to <a class="links" [routerLink]="['/login']" >login!</a></p>
       </div>

      </form>
      </div>
    </div>
  </div>
</div>
